/* Design tokens (couleurs, rayons, ombres, etc.) */
@import '../styles/design-tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============== Base =============== */
@layer base {
  html {
    scroll-behavior: smooth;
    text-rendering: optimizeLegibility;

    /* Scrollbars (plugin tailwind-scrollbar actif) */
    /* (fusionné ici pour éviter la double règle html) */
    @apply scrollbar-thin scrollbar-track-transparent
           scrollbar-thumb-gray-300 dark:scrollbar-thumb-zinc-700;
  }

  body {
    @apply min-h-screen antialiased;
    background-color: hsl(var(--bg));
    color: hsl(var(--text));
    font-family: var(--font-sans);
  }

  h1, h2, h3, h4, h5, h6 {
    @apply tracking-tight font-semibold text-gray-900 dark:text-white;
  }

  :is(p, li, dt, dd) {
    @apply text-gray-700 dark:text-gray-300;
  }

  a {
    color: hsl(var(--accent));
    text-underline-offset: 2px;
    transition: color .18s ease, opacity .18s ease, text-decoration-color .18s ease;
  }
  a:hover {
    color: hsl(var(--accent-600));
    text-decoration: underline;
    text-decoration-thickness: 2px;
  }
  a:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px hsl(var(--surface)),
      0 0 0 4px hsl(var(--accent));
    border-radius: .5rem;
  }

  /* Sélection de texte */
  ::selection {
    background: var(--selection-bg);
    color: var(--selection-fg);
  }
}

/* =============== Components =============== */
@layer components {
  /* conteneur global pour remplacer les "mx-auto px-4 ..." */
  .container-app {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-10;
  }

  .card {
    @apply rounded-xl border border-gray-200/80 dark:border-zinc-800
           bg-white dark:bg-zinc-900 shadow-sm;
  }
  .card-hover {
    @apply transition-shadow hover:shadow-lg;
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl
           font-semibold px-4 py-2 transition active:scale-[0.98]
           focus:outline-none focus-visible:ring-2 focus-visible:ring-accent;
  }
  .btn-primary {
    @apply btn text-white bg-[hsl(var(--accent))]
           hover:bg-[hsl(var(--accent-600))];
  }
  .btn-ghost {
    @apply btn border border-gray-300 dark:border-zinc-700 bg-transparent
           hover:bg-gray-50 dark:hover:bg-zinc-800;
  }

  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-[11px]
           font-medium bg-gray-100 dark:bg-zinc-800 text-gray-700 dark:text-gray-200
           border border-gray-200 dark:border-zinc-700;
  }

  /* Skeleton (shimmer) */
  .skeleton {
    background: linear-gradient(90deg,
      hsl(var(--surface-2)) 25%,
      hsl(var(--surface)) 37%,
      hsl(var(--surface-2)) 63%);
    background-size: 400% 100%;
    animation: shimmer 1.25s ease-in-out infinite;
    @apply rounded-md;
  }
}

/* =============== Utilities =============== */
@layer utilities {
  .shadow-soft   { box-shadow: var(--shadow-sm); }
  .shadow-soft-lg{ box-shadow: var(--shadow-lg); }
}

/* Keyframes pour le skeleton */
@keyframes shimmer {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
